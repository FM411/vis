
<!DOCTYPE html>
<html>
<head>
    <title>Flatty - Flat administration template</title>
    <meta content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no' name='viewport' />
    
    <!--[if lt IE 9]>
    <script src='assets/javascripts/html5shiv.js' type='text/javascript'></script>
    <![endif]-->
    <link href='assets/stylesheets/bootstrap/bootstrap.css' media='all' rel='stylesheet' type='text/css' />
    <link href='assets/stylesheets/bootstrap/bootstrap-responsive.css' media='all' rel='stylesheet' type='text/css' />
    <!-- / jquery ui -->
    <link href='assets/stylesheets/jquery_ui/jquery-ui-1.10.0.custom.css' media='all' rel='stylesheet' type='text/css' />
    <link href='assets/stylesheets/jquery_ui/jquery.ui.1.10.0.ie.css' media='all' rel='stylesheet' type='text/css' />
    <!-- / switch buttons -->
    <link href='assets/stylesheets/plugins/bootstrap_switch/bootstrap-switch.css' media='all' rel='stylesheet' type='text/css' />
    <!-- / xeditable -->
    <link href='assets/stylesheets/plugins/xeditable/bootstrap-editable.css' media='all' rel='stylesheet' type='text/css' />
    <link href='assets/stylesheets/plugins/common/bootstrap-wysihtml5.css' media='all' rel='stylesheet' type='text/css' />
    <!-- / wysihtml5 (wysywig) -->
    <link href='assets/stylesheets/plugins/common/bootstrap-wysihtml5.css' media='all' rel='stylesheet' type='text/css' />
    <!-- / jquery file upload -->
    <link href='assets/stylesheets/plugins/jquery_fileupload/jquery.fileupload-ui.css' media='all' rel='stylesheet' type='text/css' />
    <!-- / full calendar -->
    <link href='assets/stylesheets/plugins/fullcalendar/fullcalendar.css' media='all' rel='stylesheet' type='text/css' />
    <!-- / select2 -->
    <link href='assets/stylesheets/plugins/select2/select2.css' media='all' rel='stylesheet' type='text/css' />
    <!-- / mention -->
    <link href='assets/stylesheets/plugins/mention/mention.css' media='all' rel='stylesheet' type='text/css' />
    <!-- / tabdrop (responsive tabs) -->
    <link href='assets/stylesheets/plugins/tabdrop/tabdrop.css' media='all' rel='stylesheet' type='text/css' />
    <!-- / jgrowl notifications -->
    <link href='assets/stylesheets/plugins/jgrowl/jquery.jgrowl.min.css' media='all' rel='stylesheet' type='text/css' />
    <!-- / datatables -->
    <link href='assets/stylesheets/plugins/datatables/bootstrap-datatable.css' media='all' rel='stylesheet' type='text/css' />
    <!-- / dynatrees (file trees) -->
    <link href='assets/stylesheets/plugins/dynatree/ui.dynatree.css' media='all' rel='stylesheet' type='text/css' />
    <!-- / color picker -->
    <link href='assets/stylesheets/plugins/bootstrap_colorpicker/bootstrap-colorpicker.css' media='all' rel='stylesheet' type='text/css' />
    <!-- / datetime picker -->
    <link href='assets/stylesheets/plugins/bootstrap_datetimepicker/bootstrap-datetimepicker.min.css' media='all' rel='stylesheet' type='text/css' />
    <!-- / daterange picker) -->
    <link href='assets/stylesheets/plugins/bootstrap_daterangepicker/bootstrap-daterangepicker.css' media='all' rel='stylesheet' type='text/css' />
    <!-- / flags (country flags) -->
    <link href='assets/stylesheets/plugins/flags/flags.css' media='all' rel='stylesheet' type='text/css' />
    <!-- / slider nav (address book) -->
    <link href='assets/stylesheets/plugins/slider_nav/slidernav.css' media='all' rel='stylesheet' type='text/css' />
    <!-- / fuelux (wizard) -->
    <link href='assets/stylesheets/plugins/fuelux/wizard.css' media='all' rel='stylesheet' type='text/css' />
    <!-- / flatty theme -->
    <link href='assets/stylesheets/light-theme.css' id='color-settings-body-color' media='all' rel='stylesheet' type='text/css' />
    <!-- / demo -->
    <link href='assets/stylesheets/demo.css' media='all' rel='stylesheet' type='text/css' />


<meta http-equiv="Content-Type" content="text/html; charset=utf-8" /></head>
<body>
<header>
    <div class='navbar l1'>
        <div class='navbar-inner' style="background:#ffefee">
            <div class='container-fluid'>
      
                <ul class='nav pull-left'>
                    

                        <button class="btn btn-large btn-primary p1" name="button" style="width:150px;font-size:25px" type="submit">select</button>

                    
                </ul>


                
               
            </div>
        </div>
    </div>


    <div class='navbar l2'>
        <div class='navbar-inner' style="background:#eeffef">
            <div class='container-fluid'>
      
                <ul class='nav pull-left'>
                    
                    <button class="btn btn-info p2" name="button" style="width:150px;font-size:25px" type="submit">ok</button>

                    
                </ul>

                <ul class='nav pull-left'>
                    
                    <button class="btn btn-primary beg" name="button" style="font-size:15px" type="submit">begin</button>

                    
                    <button class="btn btn-danger end" name="button" style="font-size:15px" type="submit">end</button>
                    
                </ul>

                <ul class='nav pull-left'>
                    
                </ul>

                

                <ul style="margin-top:13px">
                   <div class="span1 lon" v="0" >
                      <div class="box-content box-statistic green-background">
                          
                          <small>lon</small>
                          <h3 class="title text-error">0</h3>
                          
                      </div>
                      
                   </div>

                </ul>

                <ul  style="margin-top:13px">
                   <div class="span1 lat" v="0">
                      <div class="box-content box-statistic green-background">
                          
                          <small>lat</small>
                          <h3 class="title text-error">0</h3>
                          
                      </div>
                      
                   </div>

                </ul>

                <ul style="margin-top:13px">
                   <div class="span1 spd" v="0">
                      <div class="box-content box-statistic red-background">
                          
                          <small>speed</small>
                          <h3 class="title text-error">191</h3>
                          
                      </div>
                      
                   </div>

                </ul>

                


                <ul style="margin-top:13px">
                   <div class="span1 w1 ew" v="1" z="1">
                      <div class="box-content box-statistic orange-background">
                          
                          <small>w1</small>
                          <h3 class="title text-error">191</h3>
                          <input type="text" autocomplete="off" class="select2-input select2-default" id="s2id_autogen4" style="width: 30px;"/>
                      </div>
                      
                   </div>

                </ul>

                <ul style="margin-top:13px">
                   <div class="span1 w2 ew" v="1" z="1">
                      <div class="box-content box-statistic orange-background">
                          
                          <small>w2</small>
                          <h3 class="title text-error">191</h3>
                          <input type="text" autocomplete="off" class="select2-input select2-default" id="s2id_autogen4" style="width: 30px;"/>
                      </div>
                      
                   </div>

                </ul>


                <ul style="margin-top:13px">
                   <div class="span1 w3 ew" v="1" z="1">
                      <div class="box-content box-statistic orange-background">
                          
                          <small>w3</small>
                          <h3 class="title text-error">191</h3>
                          <input type="text" autocomplete="off" class="select2-input select2-default" id="s2id_autogen4" style="width: 30px;"/>
                      </div>
                      
                   </div>

                </ul>

                <ul style="margin-top:13px">
                   <div class="span1 r ew" v="2" z="1">
                      <div class="box-content box-statistic orange-background">
                          
                          <small>r</small>
                          <h3 class="title text-error">191</h3>
                          <input type="text" autocomplete="off" class="select2-input select2-default" id="s2id_autogen4" style="width: 30px;"/>
                      </div>
                      
                   </div>

                </ul>

                <ul style="margin-top:13px">
                   <div class="span1 z ew" v="0" z="1">
                      <div class="box-content box-statistic orange-background">
                          
                          <small>z</small>
                          <h3 class="title text-error">191</h3>
                          <input type="text" autocomplete="off" class="select2-input select2-default" id="s2id_autogen4" style="width: 30px;"/>
                      </div>
                      
                   </div>

                </ul>

                <ul style="margin-top:13px">
                   <div class="span1 m ew" v="1" z="1">
                      <div class="box-content box-statistic orange-background">
                          
                          <small>m</small>
                          <h3 class="title text-error">191</h3>
                          <input type="text" autocomplete="off" class="select2-input select2-default" id="s2id_autogen4" style="width: 30px;"/>
                          
                      </div>
                      
                   </div>

                </ul>


                <ul style="margin-top:13px">
                   

                </ul>

                
                      


                
               
            </div>
        </div>
    </div>


    <div class='navbar l3'>
        <div class='navbar-inner'>
            <div class='container-fluid'>
      
                <ul class='nav pull-left'>
                    
                    <li class='dropdown medium only-icon widget'>
                        <a class="dropdown-toggle p3" name="button" style="width:75px;font-size:25px">Select</a>
                       
                    </li>
                    
                </ul>


                
               
            </div>
        </div>
    </div>
</header>

<script src="//d3js.org/d3.v3.min.js"></script>
    
    <script src="//d3js.org/topojson.v1.min.js"></script>
    <script type="text/javascript" src="d3/d3.csv.js"></script>
    <script type="text/javascript" src="d3/d3.geo.js"></script>
    <script type="text/javascript" src="geq.js"></script>
    <script type="text/javascript">



var width = 1280,
    height = 1000;
    centered = 0;

var projection = d3.geo.azimuthal()
    .mode("equidistant")
    .origin([-98, 38])
    .scale(1400)
    .translate([700, 360]);

var path = d3.geo.path()
    .projection(projection);







var zoom = d3.behavior.zoom()  
  .scaleExtent([1, 10])  
  .on("zoom", zoomed); 

var svg = d3.select(".qw").append("svg")
    .attr("width", width)
    .attr("height", height)
    

var gw = svg.append("g")
         .on("click",gclick);


var states = gw.append("svg:g")
    .attr("id", "states")
    .call(zoom);  

var cells = gw.append("svg:g")
    .attr("id", "cells");


var zipcel = gw.append("svg:g")
           .attr("id", "zipcel");

var addpoi = gw.append("svg:g")
          .attr("id","addpoi");

var positions = [];

var zip = [];


d3.json("usa/us_state.json", function(collection) {
  states.selectAll("path")
      .data(collection.features)
    .enter().append("svg:path")
      .attr("d", path)
      
});











d3.csv("usa/o.csv", function(airports) {
  

  airports.forEach(function(airport) {
    positions.push(projection([+airport.LONGITUDE, +airport.LATITUDE]).concat([ airport.a, airport.e, airport.f]));
  });

  // Compute the Voronoi diagram of airports' projected positions.
  var polygons = d3.geom.voronoi(positions);

  var g = cells.selectAll("g")
      .data(airports)
    .enter().append("svg:g");

  /*g.append("svg:path")
      .attr("class", "cell")
      .attr("d", function(d, i) { return "M" + polygons[i].join("L") + "Z"; })
      .on("mouseover", function(d, i) {
        d3.select("#footer span").text(d.name);
        d3.select("#footer .hint").text(d.city + ", " + d.state);
      });*/

  g.append("svg:circle")
      .attr("cx", function(d, i) { return positions[i][0]; })
      .attr("cy", function(d, i) { return positions[i][1]; })
      .attr("r", function(d,i){return 0.5/(parseFloat(positions[i][3])+0.5);})
      .style("fill","#11bbcc");

  


   
  for(z=0;z<positions.length;z++){
    positions[z][0] = parseFloat(positions[z][0]);
    positions[z][1] = parseFloat(positions[z][1]);
  }
});


d3.csv("usa/w.csv", function(airportsw) {
  

  airportsw.forEach(function(airport){
    zip.push(projection([+airport.LONGITUDE,+airport.LATITUDE]).concat([airport.f]));
  })

  // Compute the Voronoi diagram of airports' projected positions.

  var g = zipcel.selectAll("g")
      .data(airportsw)
    .enter().append("svg:g");

  /*g.append("svg:path")
      .attr("class", "cell")
      .attr("d", function(d, i) { return "M" + polygons[i].join("L") + "Z"; })
      .on("mouseover", function(d, i) {
        d3.select("#footer span").text(d.name);
        d3.select("#footer .hint").text(d.city + ", " + d.state);
      });*/


  g.append("svg:circle")
      .attr("cx", function(d, i) {return zip[i][0]; })
      .attr("cy", function(d, i) { return zip[i][1]; })
      .attr("r", function(d,i){return zip[i][2]*1.5;})
      .style("fill","#eebbcc");

  


   
  for(z=0;z<zip.length;z++){
    zip[z][0] = parseFloat(zip[z][0]);
    zip[z][1] = parseFloat(zip[z][1]);
  }















  //alert(gz(0,1,[[6,2,1,0,0],[-6,1,1,0,0]],1,1,1));
});


                        
  




function get_poi(x,y){
  gew = d3.select("g")
  if(gew.attr("transform")!=""){
   qzw = gew.attr("translate").match("(.*),(.*)");
   wzq = parseFloat(gew.attr("scale"));

  }
  addpoi.append("svg:circle")
      .attr("cx", (parseFloat(x)-parseFloat(qzw[1]))/wzq)
      .attr("cy", (parseFloat(y)-parseFloat(qzw[2]))/wzq)
      .attr("r", 2/wzq)
      .style("fill", "#fff000")
      .style("fill", "#fff000")
      .classed("eqc","true")
      .attr("transform","translate(" + gew.attr("translate") + ")" + "scale("+ gew.attr("scale") + ")");
  d3.timer(waz, 100);
}

function waz(){
  q = d3.select(".eqc");
  w = gz(parseFloat(q.attr("cx")),parseFloat(q.attr("cy")),positions,100,0,0,zip);
  q.attr("cx",parseFloat(q.attr("cx"))+w[0]);
  q.attr("cy",parseFloat(q.attr("cy"))+w[1]);
  
}

function gclick(d){
  get_poi(d3.mouse(this)[0],d3.mouse(this)[1]);
  
  
}

function zoomed() {  
    states.attr("transform",   
        "translate(" + d3.event.translate + ")scale(" + d3.event.scale + ")");  
    cells.selectAll("circle").attr("transform",   
        "translate(" + d3.event.translate + ")scale(" + d3.event.scale + ")")
        
    zipcel.selectAll("circle").attr("transform",   
        "translate(" + d3.event.translate + ")scale(" + d3.event.scale + ")")
        
    d3.select("g").attr("translate",d3.event.translate).attr("scale",d3.event.scale);
    addpoi.selectAll("circle").attr("transform",   
        "translate(" + d3.event.translate + ")scale(" + d3.event.scale + ")")
        .attr("r",2/d3.event.scale);
        
}

    </script>





<!-- / jquery -->
<script src='assets/javascripts/jquery/jquery.min.js' type='text/javascript'></script>
<!-- / jquery mobile events (for touch and slide) -->
<script src='assets/javascripts/plugins/mobile_events/jquery.mobile-events.min.js' type='text/javascript'></script>
<!-- / jquery migrate (for compatibility with new jquery) -->
<script src='assets/javascripts/jquery/jquery-migrate.min.js' type='text/javascript'></script>
<!-- / jquery ui -->
<script src='assets/javascripts/jquery_ui/jquery-ui.min.js' type='text/javascript'></script>
<!-- / bootstrap -->
<script src='assets/javascripts/bootstrap/bootstrap.min.js' type='text/javascript'></script>
<script src='assets/javascripts/plugins/flot/excanvas.js' type='text/javascript'></script>
<!-- / sparklines -->
<script src='assets/javascripts/plugins/sparklines/jquery.sparkline.min.js' type='text/javascript'></script>
<!-- / flot charts -->
<script src='assets/javascripts/plugins/flot/flot.min.js' type='text/javascript'></script>
<script src='assets/javascripts/plugins/flot/flot.resize.js' type='text/javascript'></script>
<script src='assets/javascripts/plugins/flot/flot.pie.js' type='text/javascript'></script>
<!-- / bootstrap switch -->
<script src='assets/javascripts/plugins/bootstrap_switch/bootstrapSwitch.min.js' type='text/javascript'></script>
<!-- / fullcalendar -->
<script src='assets/javascripts/plugins/fullcalendar/fullcalendar.min.js' type='text/javascript'></script>
<!-- / datatables -->
<script src='assets/javascripts/plugins/datatables/jquery.dataTables.min.js' type='text/javascript'></script>
<script src='assets/javascripts/plugins/datatables/jquery.dataTables.columnFilter.js' type='text/javascript'></script>
<!-- / wysihtml5 -->
<script src='assets/javascripts/plugins/common/wysihtml5.min.js' type='text/javascript'></script>
<script src='assets/javascripts/plugins/common/bootstrap-wysihtml5.js' type='text/javascript'></script>
<!-- / select2 -->
<script src='assets/javascripts/plugins/select2/select2.js' type='text/javascript'></script>
<!-- / color picker -->
<script src='assets/javascripts/plugins/bootstrap_colorpicker/bootstrap-colorpicker.min.js' type='text/javascript'></script>
<!-- / mention -->
<script src='assets/javascripts/plugins/mention/mention.min.js' type='text/javascript'></script>
<!-- / input mask -->
<script src='assets/javascripts/plugins/input_mask/bootstrap-inputmask.min.js' type='text/javascript'></script>
<!-- / fileinput -->
<script src='assets/javascripts/plugins/fileinput/bootstrap-fileinput.js' type='text/javascript'></script>
<!-- / modernizr -->
<script src='assets/javascripts/plugins/modernizr/modernizr.min.js' type='text/javascript'></script>
<!-- / retina -->
<script src='assets/javascripts/plugins/retina/retina.js' type='text/javascript'></script>
<!-- / fileupload -->
<script src='assets/javascripts/plugins/fileupload/tmpl.min.js' type='text/javascript'></script>
<script src='assets/javascripts/plugins/fileupload/load-image.min.js' type='text/javascript'></script>
<script src='assets/javascripts/plugins/fileupload/canvas-to-blob.min.js' type='text/javascript'></script>
<script src='assets/javascripts/plugins/fileupload/jquery.iframe-transport.min.js' type='text/javascript'></script>
<script src='assets/javascripts/plugins/fileupload/jquery.fileupload.min.js' type='text/javascript'></script>
<script src='assets/javascripts/plugins/fileupload/jquery.fileupload-fp.min.js' type='text/javascript'></script>
<script src='assets/javascripts/plugins/fileupload/jquery.fileupload-ui.min.js' type='text/javascript'></script>
<script src='assets/javascripts/plugins/fileupload/jquery.fileupload-init.js' type='text/javascript'></script>
<!-- / timeago -->
<script src='assets/javascripts/plugins/timeago/jquery.timeago.js' type='text/javascript'></script>
<!-- / slimscroll -->
<script src='assets/javascripts/plugins/slimscroll/jquery.slimscroll.min.js' type='text/javascript'></script>
<!-- / autosize (for textareas) -->
<script src='assets/javascripts/plugins/autosize/jquery.autosize-min.js' type='text/javascript'></script>
<!-- / charCount -->
<script src='assets/javascripts/plugins/charCount/charCount.js' type='text/javascript'></script>
<!-- / validate -->
<script src='assets/javascripts/plugins/validate/jquery.validate.min.js' type='text/javascript'></script>
<script src='assets/javascripts/plugins/validate/additional-methods.js' type='text/javascript'></script>
<!-- / naked password -->
<script src='assets/javascripts/plugins/naked_password/naked_password-0.2.4.min.js' type='text/javascript'></script>
<!-- / nestable -->
<script src='assets/javascripts/plugins/nestable/jquery.nestable.js' type='text/javascript'></script>
<!-- / tabdrop -->
<script src='assets/javascripts/plugins/tabdrop/bootstrap-tabdrop.js' type='text/javascript'></script>
<!-- / jgrowl -->
<script src='assets/javascripts/plugins/jgrowl/jquery.jgrowl.min.js' type='text/javascript'></script>
<!-- / bootbox -->
<script src='assets/javascripts/plugins/bootbox/bootbox.min.js' type='text/javascript'></script>
<!-- / inplace editing -->
<script src='assets/javascripts/plugins/xeditable/bootstrap-editable.min.js' type='text/javascript'></script>
<script src='assets/javascripts/plugins/xeditable/wysihtml5.js' type='text/javascript'></script>
<!-- / ckeditor -->
<script src='assets/javascripts/plugins/ckeditor/ckeditor.js' type='text/javascript'></script>
<!-- / filetrees -->
<script src='assets/javascripts/plugins/dynatree/jquery.dynatree.min.js' type='text/javascript'></script>
<!-- / datetime picker -->
<script src='assets/javascripts/plugins/bootstrap_datetimepicker/bootstrap-datetimepicker.js' type='text/javascript'></script>
<!-- / daterange picker -->
<script src='assets/javascripts/plugins/bootstrap_daterangepicker/moment.min.js' type='text/javascript'></script>
<script src='assets/javascripts/plugins/bootstrap_daterangepicker/bootstrap-daterangepicker.js' type='text/javascript'></script>
<!-- / max length -->
<script src='assets/javascripts/plugins/bootstrap_maxlength/bootstrap-maxlength.min.js' type='text/javascript'></script>
<!-- / dropdown hover -->
<script src='assets/javascripts/plugins/bootstrap_hover_dropdown/twitter-bootstrap-hover-dropdown.min.js' type='text/javascript'></script>
<!-- / slider nav (address book) -->
<script src='assets/javascripts/plugins/slider_nav/slidernav-min.js' type='text/javascript'></script>
<!-- / fuelux -->
<script src='assets/javascripts/plugins/fuelux/wizard.js' type='text/javascript'></script>
<!-- / flatty theme -->
<script src='assets/javascripts/nav.js' type='text/javascript'></script>
<script src='assets/javascripts/tables.js' type='text/javascript'></script>
<script src='assets/javascripts/theme.js' type='text/javascript'></script>
<!-- / demo -->
<script src='assets/javascripts/demo/jquery.mockjax.js' type='text/javascript'></script>
<script src='assets/javascripts/demo/inplace_editing.js' type='text/javascript'></script>
<script src='assets/javascripts/demo/charts.js' type='text/javascript'></script>
<script src='assets/javascripts/demo/demo.js' type='text/javascript'></script>

<script src='q.js' type='text/javascript'></script>



</body>
</html>
